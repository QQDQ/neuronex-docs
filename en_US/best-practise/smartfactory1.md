# NeuronEX + ECP 构建饮料生产数字化平台

随着市场竞争的加剧和消费者需求的快速变化，某饮料生产企业期望通过智能化转型来保持竞争优势。为此，该企业决定使用 EMQ 的先进制造解决方案与 Azure 云平台集成，期望打造食品和饮料高度自动化的生产和管理系统，以实现生产效率、产品质量和市场响应速度的优化升级。

## 项目挑战

在启动数字化转型项目时，该饮料生产企业遇到了以下挑战:

- 数据孤岛问题

  生产线上使用了来自不同供应商的多样化设备和系统，数据格式和通信协议各不相同。多种异构数据导致了信息孤岛现象，阻碍了数据的统一管理和深度分析，使得跨系统数据整合变得复杂且低效。

- 实时响应挑战

  传统的数据采集与分析方法存在滞后性，无法满足先进制造对实时监控和即时决策的需求。不仅影响了企业生产的及时调整和优化能力，也在一定程度上限制了企业的市场竞争力。

- 系统集成障碍

  面对众多的生产系统和设备，实现其数据的无缝集成是一项艰巨的任务。不同系统的兼容性和互操作性问题，成为制约企业数字化转型的关键。

- 智能分析薄弱

  由于缺乏高效先进的数据分析工具和技术，企业难以从海量的生产数据中提取出有价值的信息。限制了企业智能化生产和预测性维护等方面的发展潜力，影响了整体运营效率和产品质量。

- 边缘计算需求

  为了提高数据处理的实时性和减轻中心服务器负担，边缘计算的重要性日益显现。通过在靠近数据源的地方进行实时处理，不仅可以加快响应速度，还能确保关键任务的低延迟执行，从而支持更智能、更高效的先进制造流程。

## 解决方案

经过深入评估，该饮料生产企业选择了 EMQ 的先进制造解决方案结合 Azure 云平台来支持其智能化转型。核心组件如下：

- **NeuronEX**：作为工业边缘网关软件，用于多协议设备的统一数据采集和边缘计算，实现各类工业设备和生产系统的数据实时采集、处理、分析和传输。

- **EMQX ECP**：作为工业互联数据平台，提供云边协同管理能力，统一管理和监控边缘侧 NeuronEX，同时提供 SSO 单点登录集成功能。

- **Azure EventHub**：作为云端消息队列服务，接收来自边缘的实时数据流，支持高吞吐量的数据接入。

- **Azure Data Factory**：作为全托管的云服务，专门用于数据持久化存储和企业级数据分析。

- **Azure Active Directory (AD)**：和 EMQX ECP 的 SSO 功能无缝集成，能够提供企业级身份认证和访问管理服务。

- **Azure Kubernetes Service (AKS)**：通过提供容器化运行环境，简化了 EMQX ECP 的部署和管理，进一步提高系统可靠性。

![alt text](_assets/smartfactory1-1.png)

## 方案特点

- **灵活的边缘部署**：

  通过支持轻量级 K3S 部署，NeuronEX 迅速在约 50 个生产设施中推出。这种敏捷的部署模型非常适合工厂中有限的计算资源，同时保持稳定性和可观察性。

- **全面的数据收集**：

  NeuronEX 支持的 OPC UA 协议可从 SCADA 系统无缝获取数据，统一生产数据输入。此外，它还支持从 SQLServer 数据库提取增量数据，实现与第三方生产系统的数据集成（详情请参考[文档](../streaming-processing/sql.md#sql-语句模板示例)）。

- **边缘计算和实时分析**：

  NeuronEX 支持着生产现场数据预处理和原始数据分析，确保了标准化的数据处理并减轻了中心设备的处理负担。

- **可靠的数据传输**：

  NeuronEX 将数据推送到 Azure EventHub，通过内置检查点实现不间断的数据传输，确保数据的完整性和准确性。

- **云边协同管理**：

  借助 EMQX ECP 的云边协同能力，实现了对 50 个生产基地的 NeuronEX 设备进行集中的生命周期管理，进行统一的远程配置、监控和实时异常检测，确保了系统的可靠性。

- **安全性显著增强**：

  利用 EMQX ECP 的 SSO 单点登录集成功能，结合 Azure 云平台统一的身份认证系统，显著提高了系统的安全性和易用性。


## 查看输出结果

借助 EMQ 的先进制造解决方案，该饮料生产企业逐步建立起数字驱动、智能管理的制造平台，充分发挥了数据价值：

- **数据互联互通**：通过打破数据孤岛，实现工厂数据的统一采集、管理和共享，为智能决策奠定了基础。

- **生产实时洞察**：通过实时监控生产过程中的关键指标，使管理层能够及时掌握生产状况并做出调整。

- **实现降本增效**：通过对生产系统的远程监控运维，降低了设备维护成本并减少了意外停机时间。

- **快速灵活响应**：通过建立数字化系统，帮助企业更快速地响应市场需求变化，缩短新产品上市时间。

## 总结

通过与 EMQ 的深度合作，这家全球领先的饮料生产企业显著提升了生产效率和产品质量，实时采集的高质量数据也为先进制造平台的发展奠定了数据基础。NeuronEX 的灵活部署和数据处理能力结合 ECP 的云边协同管理功能，帮助该企业在激烈的市场竞争中继续保持领先地位，为其产品的持续创新和发展提供了强有力的技术支撑。