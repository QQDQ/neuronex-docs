# AWS S3 Sink


该操作用于将输出消息发布到 AWS S3 中。
如希望使用 AWS S3 Sink 连接器，点击 **数据处理** -> **规则** -> **新建规则**，在 **动作** 区域，点击**添加**，**Sink** 选择 **AWS S3 Bucket**。

## Sink 配置

在规则页面，点击**添加动作**，进行如下设置：

- **桶名称 (BucketName)**：S3 存储桶的名称。
- **凭证类型 (CredentialType)**：获取 AWS 凭证的方式，支持以下三种形式：
  - **env**：从环境变量中获取凭证。
  - **file**：从 AWS IAM 配置文件中获取凭证。
  - **key**：直接提供 Access Key 和 Secret Key。
- **凭证 ID (CredentialID)**：可选参数。当 凭证类型 设置为 file 时，用于指定 AWS IAM 配置文件中要使用的 ID。
- **Access Key**：可选参数。当 凭证类型 设置为 key 时，用于指定 AWS S3 权限的 Access Key。
- **Secret Key**：可选参数。当 凭证类型 设置为 key 时，用于指定 AWS S3 权限的 Secret Key。
- **区域 (Region)**：可选参数。当 凭证类型 设置为 key 时，用于指定 AWS S3 服务的区域，例如 us-east-1。
- **超时时间 (Timeout)**：上传操作的超时时间，单位为秒。默认值为 60 秒。
- **重试次数 (RetryCount)**：上传失败后的重试次数。默认值为 1 次。
- **压缩**：默认留空为不解压缩。
- **是否忽略输出**：默认为 False。
- **将结果数据按条发送**：默认为 True。
- **流格式**：默认 json 格式。
- **数据模版**：Golang 模板，用于指定输出数据格式。如不指定数据模板，则将数据作为原始输入。关于数据模版的详细介绍，见 [数据模版](./data_template.md)。

完成设置后，可点击测试连接确认连接情况。最后点击提交，完成设置。

